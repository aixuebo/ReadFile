# 背景与总结


# prompt提示词
1.人类向大模型输入的指令，类比于java指令操作计算机。
目前主要是文本输入，未来可能是音频、图像、表格作为输入指令。

2.prompt写的好不好，决定了大模型的输出是否符合预期
有人推着一辆电动自行车进入电梯间。 ---> 观察后有人、有自行车、有电梯间，但感觉自行车不是电动自行车。
有人推着一辆电动车进入电梯间 --> 生成的图片更不符合预期，车太大了。
在小区的电梯里，有一个骑着电动车的年轻人 --- 符合预期。

# 文生文的万能公式
1.万能公式 = 定义角色 + 背景描述 + 定目标 + 补充要求 + 附加例子等  

定义角色：由于大模型内容较多，设置好角色，可以激发我们想要的领域内   
背景描述：由于目标问题复杂，一句话说不清楚，而要达成目标的约束条件和前置背景可以在背景描述中补充。提供参考文本等、背景过长可包含在三个单引号中。  
定目标：告诉大模型明确你要做什么。  
附加例子:

2.举例
* 假设你是一位到有，(定义角色)
* 我和我的家人要取大连旅游，我的预算是1万以内，总共玩6天，(描述背景)
* 请帮我做一份旅游攻略。(明确目标)
* 注意：因为有老人，所以不爬山，6天不能总吃海鲜。---- 补充一些要求


* 你好，你现在是一名有用北京多年工作经验的导游。
* 正值暑假，需要带青少年在北京有为期一周的参观旅游，家长希望这次旅游能帮助孩子们学习北京的历史知识、了解最新科技成果、培养孩子的审美。
* 请帮忙写一份为期一周的旅游计划,按照周一-周日的顺序来写，将上午和下午的活动分开。
* 注意不要有重复的地点，我不想上午颐和园，下午动物园，请在帮我写一下。


* 你现在是字节跳动拥有多年工作经验的项目经理，非常了解现在的公司产品和市场需求，
* 现在公司要做一个面向全国的演出购票小程序，涉及到电影、戏剧、音乐会、演唱会等，这个小程序可以实时更新全国各项演出的售票情况；用户可以定时抢票，不会错过；并且新用户注册送优惠券。7月份开始研发，12月底要上线。
* 请你对这个产品做一个研发计划。
* 包括需要参与的人员、7-12月的工作安排、需要公司提供哪些设备、哪些必要的软件工具、开发环境等等。
* 符合软件的开发逻辑，内容不要重复。


## 策略1，给出清晰的指示
### 1.提示不要笼统 --- 要包含尽可能多的详细信息和细节。
* 不好的提示词：如何在excel进行数字相加；这个太抽象了，他不知道怎么处理；
 好的提示词:如何在excel中将一行美元金额相加，我相对一整张表的所有行自动执行这样的操作。
* 不好的提示词：推荐个电影。
好的提示词:推荐一部爱情电影，我喜欢xxx明星。（给出了主演以及电影类型）
* 不好的提示词：提示词万能公式的作用是什么。
好的提示：要使用大模型就需要编写提示词，而提示词的技巧很多，记住这么多技巧难度大，所以可以使用"万能公式",请详细介绍一下"万能公式"的作用和意义。
* 我的例子
好的提示词：假设你是一个AE后期制作的大牛，我现在正在学习AE软件，目前遇到了一些困惑，想请教你帮我解决一下困惑。我在学习AE时，发现有一个功能“切换透明网格”，但不知道该如何使用，以及这个功能的作用是什么。
答案非常完美:
	“切换透明网格”是AE（Adobe After Effects）中的一个功能，主要用于查看和操作图层的透明度。当你在做后期合成或者动画制作时，可能会用到多个图层，其中一些图层可能是半透明的，这时候就需要用到这个功能。
	具体操作步骤如下：
	首先，打开你的AE软件，导入你需要操作的项目。
	在时间线面板中，选择你需要查看透明度的图层。
	然后，点击工具栏上的“切换透明网格”按钮（或者使用快捷键Alt+Shift+D），你会看到你的画面背景变为了黑白相间的网格。
	这个黑白相间的网格就是透明网格，它的作用是让你更清楚地看到图层的透明部分。在这个模式下，白色代表完全透明，黑色代表不透明，灰色则表示半透明。这样，你就可以根据需要调整图层的透明度了。

### 2.给大模型一个角色扮演
a.作用
有助于保持上下文一致性，确保一致的角色和语境下对话，有助于创建连贯的体验，更符合输出的预期。
有助于回答专业性、专长的问题、特定角度的深入探讨。
个性化体验：角色赋予大模型性格特点，具有人格、感情特征，增加对话的趣味性和互动性。
b.技巧与案例
多轮对话，需要上下文，所以角色扮演开头应该这样写：“在接下来的对话中，你将扮演自身的英文教师，我会持续的跟你对话，请你随时指正我的英文问题，明白吗?”
我想从事互联网算法工作，怎么说？ 。。。 英文回复。。。
你能教我从句的知识吗，我觉得从句好难呀 。 。。。。。回复。。。。


### 3.恰当的使用分隔符
比如：请将橘子翻译为英文:"xxxxx"，翻译完成后用汉语打印"完成"。

符号的解释
a.""，帮助大模型理解这是突出重点的关键词或者短语。
b.[] 和 |，用于表示多个可选项中的一个，指示大模型可以从中选择一个合适的。比如 [0.01|0.002|0.003]
c.{}表示一组相关选项，或者表示可多选的选项。比如 {0.01|0.002|0.003}
d.三个单引号、三个双引号、反引号，包裹住的内容，大模型会认为他是一个整体。里面允许包含回车换行作为整体的内容。


### 4.指定完成任务所需要的步骤
如何你的任务比较复杂，明确告诉大模型，执行这个任务需要分哪几个步骤，让大模型按照步骤来完成。

例子1：如何应用在一篇新闻稿
需要你来处理```中包裹的新闻稿。
步骤:
第1步:提取这段新闻的3个关键词;
第2步:提取这段新闻的亮点(即吸引人眼球的传播点);
第3步:编写一段200字以内的摘要;
第4步:将第1步、第2步、第3步的结果翻译为英文;

新闻稿:
```
xxxxx
```

注意:
a.使用标点符号的重要性。
b.亮点 给大模型一个解释。


例子2：如何应用在多篇新闻稿，即多轮对话
接下来，我将不断给你新闻稿，新闻稿的处理步骤如下:
步骤:
第1步:提取这段新闻的3个关键词;
第2步:提取这段新闻的亮点(即吸引人眼球的传播点);
第3步:编写一段200字以内的摘要;
第4步:将第1步、第2步、第3步的结果翻译为英文;

明白了吗?

注意:
a.由于文章太长了，可能多轮之后，超过了GPT允许最长的处理逻辑，所以渐渐地回答的结果不符合预期了。
多轮对话中,上下文GPT是如何实现的呢？其实他是每次都把最近的聊天内容都发给了GPT。


### 5.提供例子

a.例子1
接下来我会为你提供很多组输入，请模仿下面德阳市，为我改写格式，然后输出。
我给你举个例子，比如我的输入
```
问:xxxx
答:xxxx
```
你的输出:
```
{
问:xxxx
答:xxxx
}
```
明白吗

b.例子2
翻译中文为英文:
苹果 --> apple
电脑 --> computer
汽车 --> car
目标 --> 

c.例子3
请帮我写一段祝福。

示例:
xxxxx

输出要求:
----xx节---
<内容>

注意:他知道会把xx做一个替换，即他知道x是未知数，需要被替换的。


### 6.指定输出长度
编写一段200字以内的摘要

### 7.限定指令范围。

a.限制输出的内容别太天马行空。
我是家政公司的老板，请帮我写一篇面向客户的营销短文，字数约100字。
注意，我的客户群体是中老年人。

b.例子2
请给我推荐5本书，除了书名外，不要提供作者信息、介绍等其他内容

c.例子3，避免乱说谎
xxxx,如果没有就说不知道。


### 8.提供参考文风/参考代码
比如模仿小红书、微博、知乎等风格创建作品。

a.写诗
加入你是以为诗人，现在模仿陶渊明<归园田居>的风格重写一首"诗",诗歌的内容如下:
"""
一条条小河宛如蓝色的缎带缠绕着一望无际的绿色田野，远处一座座造血古朴色彩和谐的小屋，一派美丽动人的田园风光，你不禁感慨自然风光无限，人生未曾经历的还有很多。
"""

<归园田居>
xxxx,xxxx.
xxxx,xxxx

b.编写一个新闻稿风格的材料。

请围绕<题目>、<核心要点>和<成就>为素材，写一篇800字的新闻稿。

写作要求:
1.以权威人物的观点或引用开头。
2.描述当前政策或事件，提供日期和实际行动。
3.插入专家观点或数据支持。
4.使用中等长度的段落和复合句。
5.保持中立的语气，以正式和客观的风格进行。
6.在句间使用转折或者并列连接词。
7.结尾时重回初始观点或引用，总结全文。

题目:《家乡有了电商课》
核心要点:
```
1.有线下理论课,也有实践指导。
2.重点帮扶县、电商综合示范县等地开展线下培训。
3.为驻村书记、电商经营者、返乡创业者等致富带头人提供培训。
4.组织专家顾问实地调研、点对点指导当地产业。
5.为当地提供农产品销售渠道。
```

成就:
```
截止2022年累计培训乡村电商从业者6000多人。
截止2022年线上课程浏览人次10万多次。
```

### 9.要求模型使用提供的文本回答 -- 仅在文本内提供答案
a.例子1：失败的例子
购买了火车票，车票是500元，我的发车时间还有36小时，此时退票需要手续费吗？需要缴纳多少退票费？

b.例子2:基于上下文回答问题的例子
请根据文本回答问题。
文本内容如下:
```
12306退票规则如下:
1.
2.
3....
```
问题如下:
购买了火车票，车票是500元，我的发车时间还有36小时，此时退票需要手续费吗？需要缴纳多少退票费？

c.例子3 明确告知 不知道的就别乱说。
```
text
```
上面三个单引号里面是我提供的文本。当你回答的我接下来的提问时，只从这个文本中寻找答案，不要从其他地方寻找。如果找不到答案，就输出"抱歉,在这个文本中找不到答案"。明白吗？


然后提问，进行测试。

#### 策略2,将复杂任务拆解成简单的子任务 --- 多轮对话技巧
第一个模块的输出，是第二个模块的输入，将其子任务串起来，效果和准确率会更高。
拆分原则:
每一个子任务都要有明确的成果或者输出物。
尽量每一个子任务只完成一项工作。

1.例子 -- 爬虫
先获取网页整体HTML页面信息。
解析页面得到具体的信息。此时可以按照标签名称逐步获取我们想要的信息。
保存信息在本地
针对保存的信息进行数据分析、可视化（可以继续拆分成子任务）。

2.例子 -- 搭建智能客服系统
主流程:用户提问 --> 意图识别,提取关键词,明确用户要问的问题分类方向 --> 子模块针对具体的分类方向的关键词内容进一步回答问题。
用程序把每一段问题串联起来，即先意图识别，进入子程序，在子程序上下文里，回答用户接下来的问题。

	接下来的对话中。你将受到客户服务咨询。请根据```中包裹的划分规则,将客户咨询划分为主要类别和次要类别，并以json格式输出。
	输出格式如下:
	```
	{
	“主要类别”:<主要类别>,
	“次要类别”:<次要类别>
	}
	```
	
	划分规则:
	```
	## 主要类别包括:
	-账单
	-技术支持
	-一般咨询
	
	### 账单次要类别包括:
	-退订或升级
	-添加付款方式
	-收费说明
	```
	
	
	进入问答环节
	问:我需要回复我的网络连接。
	答:
	{
	“主要类别”:<技术支持>,
	“次要类别”:<故障排查>
	}
	
	接下来的对话中，你将受到客户服务咨询，这些咨询都是需要进行技术支持故障排查的。你可以通过以下方式帮助用户:
	-建议他们检查路由器的所有线缆是否已连接。请注意，线缆随着时间的推移容易松动。
	-如果所有线缆都已连接，但问题仍然存在，请咨询他们使用的路由器型号。
	-现在,你将指导他们如何重启设备:
	-- 如果型号为A，建议他们按住红色按钮5秒钟，然后等待5分钟后再测试链接。
	-- 如果型号为B，建议他们按住红色按钮3秒钟，然后等待3分钟后再测试链接。
	- 如果重启设备并等待后，问题仍然存在，请将他们连接到IT支持部门，电话为:"xxx"。
	- 如果用户开始咨询与此主题无关的问题，请客户说明他们想做什么。
	
	
	进入问答环节
	答:线路已经连接好了。
	问:好的，name你能告诉我使用的路由器型号吗。
	答:A
	问:按住红色按钮5秒钟，然后等待5分钟后再测试链接。
	答:重启了，但还是不能上网。
	问:请将他们连接到IT支持部门，电话为:"xxx"。



3.及时进行阶段总结
因为基于上下文的内容可能会很多，此时会超过token限制，造成无法继续基于上下文聊天，因此需要及时的总结。因此大模型可以基于总结的结果进行继续聊天。
例子:对一本书进行摘要
先分步对每一章节进行摘要。
再基于章节摘要，进一步做全文摘要，获取最终书的摘要内容。


#### 策略3，给大模型思考时间 --  为大模型开启思维链
## 加上"让我们一步一步的思考"
当任务很复杂，需要大模型一起跟我们一步一步的思考，每一步前提是有逻辑承上启下的链路的。
## 1.例子 只要在结尾放一句 let's think setp by setp,让我们一步步地思考，模型输出的答案就会更加准确以及细致。
玩杂耍的人能玩16个球，一半球是高尔夫，高尔夫球中一半是蓝色，问有多少蓝色高尔夫球？让我们一步一步的思考。

## 2.例子
从简历中提取内容。
如果不知道就说不知道。
请先计算年龄，然后再输出结果。别着急，让我们一步一步来。

## 3.让大模型先给出自己的答案，再去判断别人的答案是否合适。



