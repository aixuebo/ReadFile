一、背景与总结
1.CAP三指标 --- CAP不可能三角
a.一致性（Consistency）客户端不管访问哪个节点，要么读到的都是同一份最新写入的数据，要么读取失败。--- 一致性强调的是数据正确。
确保客户端请求任意一个节点写数据后，需要将其他节点也同步最新数据后，才能返回给客户端成功标识。这就影响了吞吐量。
b.可用性（Availability） 客户端不管访问哪个非故障节点，都能得到响应数据，但不保证是同一份最新数据 ---- 强调服务高可用，但不保证数据正确。
我尽力给你返回数据，不会不响应你，但是我不保证每个节点给你的数据都是最新的。
c.分区容错性（Partition Tolerance）当节点间出现任意数量的消息丢失或高延迟的时候，系统仍然在继续工作 --- 强调的是集群对分区故障的容错能力。

2.AP和CP的选择
因为分布式系统与单机系统不同，它涉及到多节点间的通讯和交互，节点间的分区故障是必然发生的，所以P是一定存在的。
因此我们在设计系统的时候，更多的考虑是要一致性、还是可用性。即一致性、可用性不可一起支持。

当选择了一致性（C）的时候，一定会读到最新的数据，不会读到旧数据，但如果因为消息丢失、延迟过高发生了网络分区，
	那么这个时候，当集群节点接收到来自客户端的读请求时，为了不破坏一致性，可能会因为无法响应最新数据，而返回出错信息。
当选择了可用性（A）的时候，系统将始终处理客户端的查询，返回特定信息，
	如果发生了网络分区，一些节点将无法返回最新的特定信息，它们将返回自己当前的相对新的信息。

