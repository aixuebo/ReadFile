一、购物订单为例描述“四色原型”的实际应用。
1.前提条件
“四色原型”的建模方法依赖UML的基础知识，“四色原型”是在UML建模的基础上增添了一些描述，很清晰的明确业务含义。UML的相关知识：实体、关系（关联、聚合、继承）等。

2.基本知识
“四色原型”是在使用UML建模的时候，把实体分为四类，并标注不同的颜色的一种建模方法。

3.建模核心
对 实体 进行分类标注，实体关系解释成"什么人/物PPT + 以什么角色ROLE + 在某一个时间点 + 做了什么事件MI + 什么样人或者物,即对PPT的描述或者分类 DESC"
核心是围绕事件展开的。比如核心下订单，那MI就是订单

4.应用案例
下订单的过程分析：首先用户要登录，然后选择要购买的产品，产品肯定属于一个产品分类，然后用户以买家的角色下订单，
订单有订单头（包括订单日期、用户、地址、派送方式、订单总金额等）、订单明细（销售的产品名称、产品规格、产品数量、单价等）。

把这个过程中涉及到的对象抽象如下：
PPT:用户、商品
DESC:用户分类、产品分类 --- desc是从PPT抽象出来的不变的共性的属性的集合，他在DDD中属于PPT的值对象，不可变的内容。
ROLE:买方、卖方、销售的产品 --- 为什么会有角色这个概念？因为有些活动，只允许具有特定角色（身份）的PPT（参与者）才能参与该活动。 比如一个人只有具有教师的角色才能上课（一种活动）；一个人只有是一个合法公民才能参与选举和被选举；
MI:订单  --- 是一个聚合根
MIDetail:订单明细 --- 是MI的聚合对象

注意:以上都是实体

![四色原形图 image/2.jpg](https://github.com/aixuebo/ReadFile/tree/master/document/image/2.jpg)


5.“四色原型”有一个规则：
a.“四色原型”的重点在于通过四色（四种类型的实体）来识别实体。
b.就是MI（事件）不能与PPT（事物）直接打交道，必须通过ROLE（角色）来打交道。在本例中，每个淘宝用户可以扮演两种角色，买家和卖家，本例中我们只使用了买家这个角色，因为只有买家才下订单，订单只能通过买家与用户关联，而不能直接关联。
即 MI 关联ROLE，角色关联PPT ,desc对PPT进行描述信息。






