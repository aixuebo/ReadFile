一、背景与总结
1.材料来自于李永乐课堂。

二、案例 --- 旅行计费问题
一个人要去N个城市，每两个城市之间的火车票是不同价格的，每一个城市都要去一次，全部走完所有城市，需要花费多少火车票钱。
假设两个城市往返价格都是一样的：
A-->B 3
B-->C 7
C--D 20
D--A 5
A--C 10
B--D 6

1.暴力搜索法
枚举所有可能的路线，找到最少价格。
ABCDA与ADCBA价格相同，都是35元。因为顺时针与逆时针路线问题，本质上是一样的，比如哈尔滨--北京--天津，与天津--北京--哈尔滨，路费肯定是一样的。即暴力搜索会把相同计费的可能性计算两次。

有多少种可能性:假设N个城市，第一次是由于已经在一个城市了，因此第一次出发是从N-1个选择一个城市。
因此总可能性 = (n-1)*(n-2)*...*1, 因为正逆两条路径价格是一样的，因此/2就够了。
因此结果是 (n-1)!/2，
因此如果10个城市，则需要18万+搜索次数。
30个城市，需要4.4*10^30次方。
所以如果100个城市，那计算机也计算不完的。

2.贪心算法
每次只找到最便宜的城市，走这样的路线，只能保证局部最优解，每一次都是最便宜的，但全局不一定是最优的。
比如 A -- B --D -- C -- A.一共39元。但其实结果范围是价格最高的路线。
说明：一个精致的利几注主义者，不一定会获得一个成功的人生，对不对。

三、遗传方法 
1.核心概念
a.遗传:保障了子代像父代，因为拿到了一整片的父代遗传信息。
b.变异:保障了子代又不完全像父代，因为某一片信息发生了变化。
①基因重组：父母各拿一部分，进行组合。但基因都来自于父代。
②基因突变:子代继承的基因，一部分丢失 或者一部分重复复制。基因已自己丢失或者补充，不是完全来自于父代。


2.数学模型
①基础流程
整体流程：初始化个体 --> 个体适应性 --> 遗传 --> 变异 --> 个体适应性循环。
a.初始化一堆人(初始化一组旅行可能的组合，比如初始化1000种可能的路线)。
b.判断个体的适应性：如果适应则继续发生遗传和变异；如果不适应则淘汰。
c.循环1000次，我们假设认为已经是最优解了。留下来的都是精英了。

②什么是个体适应度
比如选择了4条路线，可以计算到每一条路线的价格，个体适应度定义为1/价格即可。
目标是：个体适应度越大，越好，则越保留。
如果价格是10和100，则很明显我们要保留10，价格更低，但100这个值更大，所以我们为了目标个体适应度函数是保留最大值，因此公式是 1/价格。此时价格越低，函数值越大。

③如何找到更优秀的基因，进行遗传和变异？举例
a.比如初始化的时候，初始化了4个路线，计算好价格，根据函数可以转换成函数值。
b.每一个函数值/总函数值，就是该路线的概率。
c.用一个圆，按照概率占比大小排序，将所有概率组成一个图里，全部概率是100%。
d.随机数生成N个概率值，比如第一个概率值是15,则判断属于哪条路线，则使用该路线进行遗传和变异，创建一个新的路线。
因为每次都是随机生成数据，而随机的结果又充满不确定性，但大概率分布在占比最大的几个路线里。因此相当于每次都是选择了最优的路线，针对最优的路线进行适当的变化，产生新的数据，进一步在迭代计算。
因此迭代N次后,就是局部最优解出现了。

注意：
因为遗传需要两个原始数据，进行组合，因此是每次随机抽取2条数据，针对两条数据生成一条数据。  但子代不能越生越少，所以为了保证与父代数据条数相同，其实是随机训练了2倍的量。（细节不太重要）。

④如何对随机的结果进行遗传和变异
a.继承
根据概率分布，随机抽取两条样本数据。新创建的子代继承自这两条样本。
比如 123456 和 132654
b.交叉变异
假设从第三位开始切开，然后交叉互换。
变成 123654和132456
c.变异
将3和6位置互换。
或者将一段子序列打乱。
结论就是我们选择了优秀的父母，然后让他们生出的孩子进行一点点变异，然后重复循环训练，即可最终接近找到局部最优解。

