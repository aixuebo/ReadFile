一、背景、总结
参见 <总线矩阵与数据域和业务过程拆分.jpg>

1.总线矩阵: 即 明确 数据域--业务过程--维度之间的关系。 
明确业务过程所属的数据域。
明确业务过程与维度的关系。
明确业务过程中涉及到的原子指标、派生指标。

倒推法:
需求侧,给出指标和维度；基于指标和维度,明确业务过程；对业务过程归属到数据域。


二、根据系统模块与功能，拆分数据域、业务过程
因为系统页面可以看到有哪些模块；页面或者系统数据库的表，可以知道有哪些功能。

数据域:系统有哪些模块。比如:交易域、商品域
业务动作/业务过程:模块内的功能。比如交易域包含加购物车、下单、支付、退款、确认收获；商品域包含发布、上架、下架、sku库存等。

由此可见，
1.模块内每一个功能都是最小单位，即业务动作或者称之为业务过程。 比如下单肯定是单独一个RD开发的，因此肯定有单独的业务表存储该数据。即每一个业务过程都是单独的fact表。
2.一个模块由若干个业务动作/业务功能组成，因此一个数据域包含多个业务动作。fact表可以有原子指标+维度信息。
3.一个数据域内，共享同一个纬度信息，比如订单维度。
4.数据域内aggr层可以汇总多个业务动作按照相同维度进行汇总。
5.topic层数据，汇总多个aggr的结果。

三、设计指标
业务过程可以明确原子指标。
派生指标基于维度+原子指标设计。
因此在设计派生指标的时候，可以反向思考设计的维度和原子指标是否合理。

四、具体demo
参见 <总线矩阵与数据域和业务过程拆分.jpg>