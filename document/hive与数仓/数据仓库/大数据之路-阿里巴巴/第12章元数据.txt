一、背景与总结


二、技术/业务元数据
1.技术元数据
a.存储的元数据:表、列、分区信息，表负责人、文件大小、表第一个分区时间、每一个分区的创建时间、分区日期类型、表所属层级aggr/topic等。
b.系统运行元数据:类似hive的job日志，使用资源情况、存储资源情况、任务开始时间、结束时间、实际计算运行时间、等待时间。
c.任务依赖关系。
d.数据治理和运维相关元数据:任务监控、运维报警、故障日志。
e.查询元数据:谁,查询了哪些sql,等待时长、执行耗时、使用资源情况等。

2.业务元数据
目标不懂计算机技术的业务人员也能读懂数据仓库中的数据。通过业务理解的指标和维度去读懂数据仓库。
a.onedata元数据:数据域、业务过程、维度与属性、指标、计算指标/派生指标的配置。
b.数据应用元数据:数据报表、数据产品等配置和运行元数据。
c.数据地图，维度与指标的数据应用下游。

3.数据打标签
数据打标:表/字段安全等级、增量表/全量表、是否可以再生表、数据生命周期、表归属业务线/产品线/主题域、表场景(电商、广告、进入、社交等)

三、元数据应用
1.数据地图等元数据门户。
2.数据血缘关系图谱,判断字段影响了哪些下游。
3.数据建模
基于元数据,为建模提供指导参考。
a.表基础元数据:下游情况、查询select次数、关联join次数、聚合group次数、产出时间。
b.表关联关系元数据:关联表、关联join类型、关联join字段、关联join次数。
c.表字段元数据:字段名称、注释、查询select次数、关联join次数、参与聚合group次数、参与where过滤次数。

比如星型模型设计中:
a.选择数据模型表:基于关联次数>阈值 or 查询次数>阈值的表。
b.基于字段被下游重新命名次数最多的,确定字段应该的命名。
c.基于查询中的主从表关系、关联次数,确定和主表关联的从表应该选择谁。
d.基于主从表的字段使用情况，比如查询次数、过滤次数、关联次数、聚合次数等,确定哪个字段进入目标模型。

4.驱动ETL开发
可以通过数据的下游任务依赖情况、最近被 读写的次数、数据是否可再生、每天消耗的存储计算等，这些信息足以让我们判断数据是否可以下线;
此时数据RD只需要收到通知后，点击确定删除,即可删除数据、删除元数据、下线调度任务、下线 DQC 监控等一系列操作就会自动在后台执行完成。
